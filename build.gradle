plugins {
  id 'java'
  id 'eclipse'
  id 'jacoco'
  
  // community plugins
  id 'com.github.ben-manes.versions' version '0.12.0'
  id 'com.diffplug.gradle.spotless' version '1.3.3'
}

version = '4.0.0'
sourceCompatibility = JavaVersion.VERSION_1_7
targetCompatibility = JavaVersion.VERSION_1_7

repositories {
  mavenLocal()
  mavenCentral()
}

ext {
    spongyCastleVersion = "1.54.0.0"
}

dependencies {
  compile(
    'net.iharder:base64:2.3.9',
    "com.madgag.spongycastle:core:${spongyCastleVersion}",
    "com.madgag.spongycastle:prov:${spongyCastleVersion}",
    "com.madgag.spongycastle:pkix:${spongyCastleVersion}"
  )
  testCompile(
    'junit:junit:4.12',
    'org.assertj:assertj-core:2.4.1'
  )
}

test {
    reports.html.enabled = true
    reports.junitXml.enabled = false
}

jacocoTestReport {
    reports {
        xml.enabled false
        csv.enabled false
        html.enabled true
    }
}

spotless {
    java {
      eclipseFormatFile 'eclipseformat.xml'
    }
}
